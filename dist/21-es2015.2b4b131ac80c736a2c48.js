(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{WaQJ:function(t,i,e){"use strict";e.r(i),e.d(i,"BplusModule",function(){return b});var s=e("ofXK"),n=e("M0ag"),r=e("tyNb"),o=e("LRne");class h{constructor(t,i){this.id=i,this.keys=[],this.childs=[],this.parent=t,this.siguiente=null}agregar(t){this.keys.push(t),this.keys.length>1&&(this.keys=this.ordenar(this.keys))}ordenar(t){for(var i=0,e=0;e<t.length-1;e++)for(var s=e+1;s<t.length;s++)t[e]>t[s]&&(i=t[e],t[e]=t[s],t[s]=i);return t}}class a{constructor(t){this.grado=t,this.middle=t%2==0?t/2:(t-1)/2,this.root=new h(null,0),this.string=!1,this.contador=2,this.edges=[],this.arrayNodes=[]}add(t){this.root=this._agregar(t,this.root)}_agregar(t,i){if(0==i.childs.length)i.agregar(t);else{for(var e=!1,s=0;s<i.keys.length;s++)if(t<i.keys[s]){e=!0,i.childs[s]=this._agregar(t,i.childs[s]);break}e||(i.childs[i.keys.length]=this._agregar(t,i.childs[i.keys.length]))}if(i.keys.length==this.grado)if(null==i.parent){this.contador++;var n=i;for((i=new h(null,this.contador)).agregar(n.keys[this.middle]),this.contador++,i.childs.push(new h(i,this.contador)),this.contador++,i.childs.push(new h(i,this.contador)),s=0;s<this.middle;s++)i.childs[0].agregar(n.keys[s]),i.childs[1].agregar(n.keys[s+this.middle+1]);if(n.childs.length>0){for(s=0;s<this.middle+1;s++)i.childs[0].childs[s]=n.childs[s],i.childs[0].childs[s].parent=i.childs[0],i.childs[1].childs[s]=n.childs[s+this.middle+1],i.childs[1].childs[s].parent=i.childs[1];n.childs[0].childs.length>0&&(i.childs[0].childs[i.childs[0].childs.length-1].siguiente=i.childs[1].childs[0])}else i.childs[0].siguiente=i.childs[1]}else{var r,o=i.keys[this.middle];i.parent.agregar(o);var a=!1;for(i.childs.length>0&&(a=!0),r=0;r<i.parent.keys.length&&i.parent.keys[r]!=o;r++);for(let t=i.parent.keys.length;t>r+1;t--)i.parent.childs[t]=i.parent.childs[t-1];var l=i;for(this.contador++,i.parent.childs[r]=new h(i.parent,this.contador),this.contador++,i.parent.childs[r+1]=new h(i.parent,this.contador),s=0;s<this.middle;s++)console.log(l.keys[s]),i.parent.childs[r].agregar(l.keys[s]),i.parent.childs[r+1].agregar(l.keys[s+this.middle+1]);if(i=i.parent.childs[r],a){for(s=0;s<this.middle+1;s++)i.parent.childs[r].childs[s]=l.childs[s],i.parent.childs[r].childs[s].parent=i.parent.childs[r];for(s=this.middle+1;s<this.grado+1;s++)i.parent.childs[r+1].childs[s-this.middle-1]=l.childs[s],i.parent.childs[r+1].childs[s-this.middle-1].parent=i.parent.childs[r+1];i.parent.childs[0].childs.length>0&&(r>0&&(i.parent.childs[r-1].childs[i.parent.childs[r-1].childs.length-1].siguiente=i.parent.childs[r].childs[0]),i.parent.childs[r].childs[i.parent.childs[r].childs.length-1].siguiente=i.parent.childs[r+1].childs[0])}else r>0&&(i.parent.childs[r-1].siguiente=i.parent.childs[r]),i.parent.childs[r].siguiente=i.parent.childs[r+1],r<i.parent.childs.length-1&&(i.parent.childs[r+1].siguiente=i.parent.childs[r+2])}return i}recorrerListaGraficar(t){if(null!=t)return 0==t.hijos.length&&null!=t.siguiente?void this.recorrerLista(t):void(t.hijos.length>0&&this.recorrerListaGraficar(t.hijos[0]))}recorrerLista(t){null!=t&&null!=t.siguiente&&(this.edges.push({from:t.id,to:t.siguiente.id,arrows:"to"}),null!=t.siguiente.siguiente&&this.recorrerLista(t.siguiente))}recorrerGraficar(t){if(null!=t){var i="";for(let e=0;e<t.keys.length;e++)e==t.keys.length-1?i+=t.keys[e].toString():i=i+t.keys[e].toString()+"|";this.arrayNodes.push({id:t.id,label:i,shape:"box"}),i="";for(let i=0;i<t.hijos.length;i++)this.edges.push({from:t.id,to:t.hijos[i].id}),this.recorrerGraficar(t.hijos[i])}}}var l=e("fXoL");const d=["siteConfigNetwork"],c=[{path:"",component:(()=>{class t{constructor(){this.bst=null,this.fileContent="",this.setting={element:{dynamicDownload:null}}}ngOnInit(){}Insertar(){this.orden>=3&&this.orden<=7?null!=this.bst?(8==this.x.charCodeAt(0)?console.log("No hay nada"):this.x.charCodeAt(0)>=48&&this.x.charCodeAt(0)<=57?this.bst.add(parseInt(this.x)):(this.bst.string=!0,this.bst.add(this.x),this.bst.string=!1),this.visit()):(this.bst=new a(this.orden),this.bst.add(parseInt(this.x)),this.visit()):alert("El grado no est\xe1 entre 3 y 7"),console.log("RAIZ",this.bst.root),this.x="",console.log("----------------------"),this.x=""}Eliminar(){console.log("IMPRIMIENDO EL ELIMINAR"),8==this.x.charCodeAt(0)?console.log("No hay nada"):this.x.charCodeAt(0)>=48&&this.x.charCodeAt(0)<=57?this.bst.eliminar(parseInt(this.x)):(this.bst.string=!0,this.bst.eliminar(this.x),this.bst.string=!1),console.log(this.x),this.x=null,this.visit()}visit(){this.drawSvgNetwork();var t=this.getTreeData();this.loadVisTree(t)}loadVisTree(t){this.network=new vis.Network(this.networkContainer.nativeElement,t,{nodes:{widthConstraint:100},layout:{hierarchical:{levelSeparation:100,nodeSpacing:100,parentCentralization:!0,direction:"UD",sortMethod:"directed",shakeTowards:"roots"}}}),this.network.on("hoverNode",function(t){console.log("hoverNode Event:",t)}),this.network.on("blurNode",function(t){console.log("blurNode event:",t)})}getTreeData(){return{nodes:this.bst.arrayNodes,edges:this.bst.edges}}drawSvgNetwork(){this.bst.datagraph=[],this.bst.edgegraph=[],window.vis=e("WaTm")}cargarArchivo(t){let i=t[0],e=new FileReader,s=this;e.onloadend=function(t){s.fileContent=e.result.toString()},e.readAsText(i),this.strCarga=s.fileContent}clickCargar(){this.strCarga=this.fileContent,console.log(this.strCarga);let t=JSON.parse(this.strCarga);console.log(t),null!=t.animacion&&null!=t.animacion&&(this.velocidadAnimacion=t.animacion),null!=t.repeticion&&(this.opcionRepeticiones=t.repeticion),null!=t.posicion&&("Inicio"!=t.posicion&&"Fin"!=t.posicion||(this.opcionOperar=t.posicion));for(let i of t.valores)this.bst.insert(i),this.visit()}downloadJson(){this.fakeValidateUserData().subscribe(t=>{this.dyanmicDownloadByHtmlTag({fileName:"ABB.json",text:t})})}fakeValidateUserData(){return Object(o.a)(this.listaEnlJSon)}dyanmicDownloadByHtmlTag(t){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));const i=this.setting.element.dynamicDownload,e=t.fileName.indexOf(".json")>-1?"text/json":"text/plain";i.setAttribute("href",`data:${e};charset=utf-8,${encodeURIComponent(t.text)}`),i.setAttribute("download",t.fileName);var s=new MouseEvent("click");i.dispatchEvent(s)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=l.Lb({type:t,selectors:[["app-bplus"]],viewQuery:function(t,i){if(1&t&&l.Ic(d,1),2&t){let t;l.vc(t=l.ic())&&(i.networkContainer=t.first)}},decls:16,vars:0,consts:[[1,"row"],[1,"col-xs-2","text-xs-center"],[1,"card","mb-3"],[1,"card-body"],[1,"card","mb-3","text-center","my-auto"],[1,"card-body","align-items-center"],[1,"col-xl-6","text-xs-center"],["id","mynetwork"],["siteConfigNetwork",""]],template:function(t,i){1&t&&(l.Xb(0,"div"),l.Xb(1,"h4"),l.Ec(2,"\xc1rbol B+"),l.Wb(),l.Xb(3,"div",0),l.Xb(4,"div",1),l.Xb(5,"div",2),l.Sb(6,"div",3),l.Wb(),l.Wb(),l.Xb(7,"div",1),l.Xb(8,"div",4),l.Sb(9,"div",5),l.Wb(),l.Wb(),l.Wb(),l.Xb(10,"div",0),l.Sb(11,"div",6),l.Wb(),l.Sb(12,"br"),l.Sb(13,"div",7,8),l.Sb(15,"div",6),l.Wb())},styles:["","#mynetwork[_ngcontent-%COMP%] {\n        width: 1200px;\n        height: 500px;\n        border: 1px solid lightgray;\n    }\n    #mySvgNetwork[_ngcontent-%COMP%] {\n        width: 700px;\n        height: 300px;\n        border: 1px solid lightgray;\n    }"]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({imports:[[r.f.forChild(c)],r.f]}),t})();var p=e("QibW"),u=e("3Pt+");let b=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({imports:[[p.c,s.b,g,n.b,u.b]]}),t})()}}]);