!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{htH1:function(n,o,i){"use strict";i.r(o),i.d(o,"FeistelModule",function(){return y});var a=i("ofXK"),l=i("M0ag"),r=i("tyNb"),c=i("LRne"),s=i("fXoL"),b=i("3Pt+");function u(t,e){if(1&t&&(s.Xb(0,"table"),s.Xb(1,"tr"),s.Xb(2,"th",13),s.Ec(3),s.Wb(),s.Xb(4,"th",14),s.Ec(5),s.Wb(),s.Wb(),s.Wb()),2&t){var n=e.$implicit;s.Eb(3),s.Fc(n[0]),s.Eb(2),s.Fc(n[1])}}function h(t,e){if(1&t&&(s.Xb(0,"div",8),s.Xb(1,"p",9),s.Ec(2," TEXTO INGRESADO"),s.Wb(),s.Xb(3,"p",10),s.Ec(4),s.Wb(),s.Xb(5,"h2",9),s.Ec(6,"El c\xf3digo en binario sin cifrar es"),s.Wb(),s.Xb(7,"h2",11),s.Ec(8),s.Wb(),s.Xb(9,"div"),s.Cc(10,u,6,2,"table",12),s.Wb(),s.Xb(11,"h2",9),s.Ec(12,"El c\xf3digo cifrado en binario es"),s.Wb(),s.Xb(13,"h2",11),s.Ec(14),s.Wb(),s.Wb()),2&t){var n=s.jc();s.Eb(4),s.Fc(n.texto),s.Eb(4),s.Fc(n.primeroprimero),s.Eb(2),s.oc("ngForOf",n.paratabla),s.Eb(4),s.Fc(n.ultimoultimo)}}var d,f,g,p=[{path:"",component:(d=function(){function n(){t(this,n),this.ultimoright="",this.ultimoleft="",this.veces=4,this.keyp=1,this.paratabla=[],this.flag=!1,this.fileContent="",this.texto="",this.setting={element:{dynamicDownload:null}}}var o,i,a;return o=n,(i=[{key:"ngOnInit",value:function(){}},{key:"cargarArchivo",value:function(t){var e=t[0],n=new FileReader,o=this;n.onloadend=function(t){o.texto=n.result.toString()},n.readAsText(e)}},{key:"clickCargar",value:function(){this.paratabla=[],console.log("TEXTO",this.texto),console.log("VECES",this.veces);var t=this.binary_encode(this.texto),e=t.length/2;this.keyp=this.binary_encode(this.keyp);for(var n="",o="",i=0;i<e;i++)this.keyp.length<e?(this.keyp="0"+this.keyp,console.log("LA LLABE ES MPASPEQUELA")):this.keyp.length>e?console.log("La llave es ",this.keyp-e,"m\xe1s grande que la mitad del texto"):console.log("La llave es del mismo tama\xf1o que la mitad del texto");for(var a=0;a<t.length;a++)a<t.length/2?n+=t[a]:o+=t[a];this.primeroprimero=n+o,this.paratabla.push([n,o]);var l=this.feistel(n,o,this.keyp,this.veces);this.ultimoleft=l;var r=this.ultimoright+l;console.log("MECAGO",r),document.querySelector("#mynetwork"),console.log(this.paratabla),this.ultimoultimo=r,console.log(this.ultimoultimo),this.flag=!0,console.log(this.paratabla.length),this.actualizarJsonSalida()}},{key:"binary_encode",value:function(t){for(var e,n=0,o=(t=unescape(encodeURIComponent(t))).length,i="";n<o;n++){for(e=t.charCodeAt(n).toString(2);e.length%8!=0;)e="0"+e;i+=e}return i}},{key:"modulodosfunciona",value:function(t){return 2!=t.length?t.length/2%2==0?t:t=this.modulodosfunciona(t+=" "):t}},{key:"mitadtexto",value:function(t){for(var e="",n=0,o=0;o<t/2;o++)e+="EDD"[n],(n+=1)>=3&&(n=0);return e}},{key:"feistel",value:function(t,e,n,o){for(var i="",a="",l=0;l<t.length;l++)e[l]==n[l]?(i+="0",a+=".."):(i+="1",a+="..");this.paratabla.push([a,n]),this.paratabla.push([a,i]);for(var r,c="",s=0;s<t.length;s++)c+=i[s]==t[s]?"0":"1";if(this.paratabla.push([a,t]),this.paratabla.push([e,c]),1!=o){o-=1;var b=(r=n.split(""))[0];r.shift(),r.push(b),r=r.join();for(var u="",h=0;h<r.length;h++)","!=r[h]&&(u+=r[h]);c=this.feistel(e,c,u,o)}else this.ultimoright=e;return c}},{key:"actualizarJsonSalida",value:function(){this.listaEnlJSon=JSON.stringify({categoria:"Feistel",cadenaEntrada:this.texto,textokeyp:this.keyp},void 0,4)}},{key:"downloadJson",value:function(){var t=this;this.fakeValidateUserData().subscribe(function(e){t.dyanmicDownloadByHtmlTag({fileName:"Feistel.json",text:e})})}},{key:"fakeValidateUserData",value:function(){return Object(c.a)(this.listaEnlJSon)}},{key:"dyanmicDownloadByHtmlTag",value:function(t){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));var e=this.setting.element.dynamicDownload,n=t.fileName.indexOf(".json")>-1?"text/json":"text/plain";e.setAttribute("href","data:".concat(n,";charset=utf-8,").concat(encodeURIComponent(t.text))),e.setAttribute("download",t.fileName);var o=new MouseEvent("click");e.dispatchEvent(o)}}])&&e(o.prototype,i),a&&e(o,a),n}(),d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=s.Lb({type:d,selectors:[["app-feistel"]],decls:28,vars:4,consts:[[1,"row"],[1,"col-xl-6","text-xs-center"],[1,"form-group"],["type","file",3,"change"],["type","number",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-secondary",3,"click"],["style","overflow:auto;","id","mynetwork",4,"ngIf"],["rows","2",1,"form-control"],["id","mynetwork",2,"overflow","auto"],[2,"color","red"],[2,"color","green"],[2,"color","rgb(24, 185, 145)"],[4,"ngFor","ngForOf"],[2,"color","slateblue","background-attachment","fixed"],[2,"background-color","tan"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"h4"),s.Ec(2,"Cifrado Feistel"),s.Wb(),s.Sb(3,"div",0),s.Xb(4,"div",0),s.Xb(5,"div",1),s.Xb(6,"fieldset",2),s.Xb(7,"div"),s.Xb(8,"input",3),s.hc("change",function(t){return e.cargarArchivo(t.target.files)}),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"h5"),s.Ec(11," Escoja el n\xfamero de veces que se repetir\xe1 el algoritmo"),s.Wb(),s.Xb(12,"input",4),s.hc("ngModelChange",function(t){return e.veces=t}),s.Wb(),s.Xb(13,"h5"),s.Ec(14," Ingrese la llave para la codificaci\xf3n"),s.Wb(),s.Xb(15,"input",4),s.hc("ngModelChange",function(t){return e.keyp=t}),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"button",5),s.hc("click",function(){return e.clickCargar()}),s.Ec(17,"Cargar Archivo"),s.Wb(),s.Wb(),s.Wb(),s.Sb(18,"br"),s.Cc(19,h,15,4,"div",6),s.Xb(20,"div",1),s.Xb(21,"fieldset",2),s.Xb(22,"label"),s.Ec(23,"JSON salida"),s.Wb(),s.Xb(24,"textarea",7),s.Ec(25),s.Wb(),s.Xb(26,"button",5),s.hc("click",function(){return e.downloadJson()}),s.Ec(27,"Guardar"),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(12),s.oc("ngModel",e.veces),s.Eb(3),s.oc("ngModel",e.keyp),s.Eb(4),s.oc("ngIf",e.flag),s.Eb(6),s.Fc(e.listaEnlJSon))},directives:[b.h,b.a,b.e,b.f,a.k,a.j],styles:["","#mynetwork[_ngcontent-%COMP%] {\n        border: 1px solid rgb(208, 87, 87);\n    }\n    table[_ngcontent-%COMP%]{\n        table-layout: fixed;\n        \n    }\n    \nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n    text-align:right;\n    width: 500%;\n   text-align: right;\n   vertical-align: top;\n   border: 1px solid #000;\n   border-collapse: collapse;\n   padding: 0.3em;\n        color:rgb(208, 87, 87);\n        word-wrap: break-word;\n        table-layout: fixed;\n}"]}),d)}],m=((f=function e(){t(this,e)}).\u0275fac=function(t){return new(t||f)},f.\u0275mod=s.Pb({type:f}),f.\u0275inj=s.Ob({imports:[[r.f.forChild(p)],r.f]}),f),v=i("QibW"),y=((g=function e(){t(this,e)}).\u0275fac=function(t){return new(t||g)},g.\u0275mod=s.Pb({type:g}),g.\u0275inj=s.Ob({imports:[[v.c,a.b,m,l.b,b.b]]}),g)}}])}();