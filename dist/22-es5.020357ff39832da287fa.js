!function(){function t(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw s}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{tpvR:function(e,n,r){"use strict";r.r(n),r.d(n,"MerkleModule",function(){return C});var s=r("ofXK"),a=r("M0ag"),l=r("tyNb"),h=r("LRne"),c=function t(e){o(this,t),this.hash=e,this.left=null,this.right=null},u=function t(e){o(this,t),this.value=e},d=function(){function t(){o(this,t),this.tophash=null,this.root=null,this.datablock=[],this.dot="",this.index=0,this.string=!1}return i(t,[{key:"insert",value:function(t){throw new Error("Method not implemented.")}},{key:"includes",value:function(t){throw new Error("Method not implemented.")}},{key:"push",value:function(t){throw new Error("Method not implemented.")}},{key:"add",value:function(t){this.datablock.push(new u(t))}},{key:"search",value:function(t,e){return null===t?null:e<t.data?this.search(t.left,e):e>t.data?this.search(t.right,e):(console.log(t.data),t)}},{key:"eliminar",value:function(t){this.root=this.eliminarN(this.root,t)}},{key:"eliminarN",value:function(t,e){if(this.string){for(var n=0,i=0;i<e.length;i++)n+=e.charCodeAt(0);console.log("VALOR EN AscII: ",n);for(var o=0,r=0;r<t.data.length;r++)o+=t.data.charCodeAt(0);if(console.log("ENTRO A ELIMINAR N.---- Y est\xe1 eliminando : ",e),null==t)return null;if(e<o){var s=this.eliminarN(t.left,e);t.left=s}else if(e>o){var a=this.eliminarN(t.right,e);t.right=a}else{var l=t;null==l.right?t=l.left:null==l.left?t=l.right:l=this.cambiar(l),l=null}return t}if(console.log("ENTRO A ELIMINAR N.---- Y est\xe1 eliminando : ",e),null==t)return null;if(e<t.data){var h=this.eliminarN(t.left,e);t.left=h}else if(e>t.data){var c=this.eliminarN(t.right,e);t.right=c}else{var u=t;null==u.right?t=u.left:null==u.left?t=u.right:u=this.cambiar(u),u=null}return t}},{key:"cambiar",value:function(t){throw new Error("Method not implemented.")}},{key:"createTree",value:function(t){this.tophash=new c(0),this._createTree(this.tophash,t)}},{key:"_createTree",value:function(t,e){e>0&&(t.left=new c(0),t.right=new c(0),this._createTree(t.left,e-1),this._createTree(t.right,e-1))}},{key:"genHash",value:function(t,e){if(null!=t)if(this.genHash(t.left,e),this.genHash(t.right,e),null==t.left&&null==t.right){t.left=this.datablock[e-this.index--];var n=new Uint32Array(1);window.crypto.getRandomValues(n),t.hash=n[0]}else t.hash=(parseInt(t.left.hash,16)+parseInt(t.right.hash,16)).toString(16)}},{key:"preorder",value:function(t){null!=t&&(console.log(t.value),this.preorder(t.left),this.preorder(t.right))}},{key:"auth",value:function(){for(var t=1;Math.pow(2,t)<this.datablock.length;)t+=1;for(var e=this.datablock.length;e<Math.pow(2,t);e++)this.datablock.push(new u(100*e));this.index=Math.pow(2,t),this.createTree(t),this.genHash(this.tophash,Math.pow(2,t)),this.preorder(this.tophash)}},{key:"dotgen",value:function(t){null!=t&&(null!=t.left&&t.left instanceof u&&(this.dot+='"'+t.left.value+'" [color=gray] -> "0x'+t.hash+'";'),t.left instanceof c&&(null!=t.left&&(this.dot+='"0x'+t.left.hash+'" -> "0x'+t.hash+'";'),null!=t.right&&(this.dot+='"0x'+t.right.hash+'" -> "0x'+t.hash+'";')),this.dotgen(t.left),this.dotgen(t.right))}}]),t}(),f=r("fXoL"),b=r("3Pt+"),g=["siteConfigNetwork"];function v(t,e){1&t&&(f.Xb(0,"p"),f.Ec(1,"Se encontraron valores repetidos al insertar valores a la lista"),f.Wb())}function p(t,e){if(1&t&&(f.Xb(0,"p"),f.Ec(1),f.Wb()),2&t){var n=f.jc();f.Eb(1),f.Fc(n.strMessageBuscar)}}var y,m,w,k=[{path:"",component:(y=function(){function e(){o(this,e),this.bst=new d,this.valores=0,this.showMessage=!1,this.fileContent="",this.setting={element:{dynamicDownload:null}}}return i(e,[{key:"ngOnInit",value:function(){this.listaEnlJSon="",this.opcionRepeticiones="true",this.opcionOperar="Inicio",this.esCarga=!1}},{key:"Iniciar",value:function(){this.listaEnlJSon="",this.showMessage=!1,this.opcionRepeticiones="true"}},{key:"Insertar",value:function(){8==this.x.charCodeAt(0)?console.log("No hay nada"):this.x.charCodeAt(0)>=48&&this.x.charCodeAt(0)<=57?(this.bst.add(parseInt(this.x)),this.valores+=1):(this.bst.string=!0,this.bst.add(this.x),this.bst.string=!1,this.valores+=1),this.x="",console.log("----------------------"),this.x="",this.visit(),console.log("TOPHASH",this.bst.tophash),this.listaEnlJSon=JSON.stringify(this.bst)}},{key:"visit",value:function(){if(this.valores%2==0){this.drawSvgNetwork();var t=this.getTreeData();this.loadVisTree(t)}}},{key:"loadVisTree",value:function(t){this.network=new vis.Network(this.networkContainer.nativeElement,t,{nodes:{widthConstraint:100},layout:{hierarchical:{levelSeparation:100,nodeSpacing:100,parentCentralization:!0,direction:"DU",sortMethod:"directed",shakeTowards:"roots"}}}),this.network.on("hoverNode",function(t){console.log("hoverNode Event:",t)}),this.network.on("blurNode",function(t){console.log("blurNode event:",t)})}},{key:"getTreeData",value:function(){this.bst.auth(),this.bst.dot="{node [shape=box];",this.bst.dotgen(this.bst.tophash),this.bst.dot+="}";var t=vis.parseDOTNetwork(this.bst.dot);this.bst.dot="";var e={nodes:t.nodes,edges:t.edges};return this.bst.datagraph=[],this.bst.edgegraph=[],e}},{key:"drawSvgNetwork",value:function(){window.vis=r("WaTm")}},{key:"cargarArchivo",value:function(t){var e=t[0],n=new FileReader,i=this;n.onloadend=function(t){i.fileContent=n.result.toString()},n.readAsText(e),this.strCarga=i.fileContent}},{key:"clickCargar",value:function(){this.strCarga=this.fileContent,console.log(this.strCarga);var e=JSON.parse(this.strCarga);console.log(e),this.bst=new d,null!=e.animacion&&null!=e.animacion&&(this.velocidadAnimacion=e.animacion),null!=e.repeticion&&(this.opcionRepeticiones=e.repeticion);var n,i=t(e.valores);try{for(i.s();!(n=i.n()).done;){var o=n.value;o=o.toString(),this.valoresinsertados.push(o),this.valoresinsertados.includes(o)&&"false"==this.opcionRepeticiones?console.log("El valor",o,"est\xe1 repetido"):(this.x=o,this.Insertarcarga(),this.esCarga=!0)}}catch(r){i.e(r)}finally{i.f()}this.visit(),this.valoresinsertados=[]}},{key:"Insertarcarga",value:function(){8==this.x.charCodeAt(0)?console.log("No hay nada"):this.x.charCodeAt(0)>=48&&this.x.charCodeAt(0)<=57?this.bst.add(parseInt(this.x)):(this.bst.string=!0,this.bst.add(this.x),this.bst.string=!1),console.log("RAIZ",this.bst.root),this.listaEnlJSon=JSON.stringify(this.bst),this.x=""}},{key:"Eliminar",value:function(){console.log("IMPRIMIENDO EL ELIMINAR"),8==this.x.charCodeAt(0)?console.log("No hay nada"):this.x.charCodeAt(0)>=48&&this.x.charCodeAt(0)<=57?this.bst.eliminar(parseInt(this.x)):(this.bst.string=!0,this.bst.eliminar(this.x),this.bst.string=!1),console.log(this.x),this.x=null,this.visit()}},{key:"clickBuscarNodo",value:function(){this.showMessageBuscar=!1,null!=this.x&&""!=this.x&&(this.strMessageBuscar=this.listaEnlJSon.search(this.x)?"Si se encontro el dato":"No se encontro el dato",this.showMessageBuscar=!0,this.x="")}},{key:"downloadJson",value:function(){var t=this;this.fakeValidateUserData().subscribe(function(e){t.dyanmicDownloadByHtmlTag({fileName:"Merkle.json",text:e})})}},{key:"fakeValidateUserData",value:function(){return Object(h.a)(this.listaEnlJSon)}},{key:"dyanmicDownloadByHtmlTag",value:function(t){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));var e=this.setting.element.dynamicDownload,n=t.fileName.indexOf(".json")>-1?"text/json":"text/plain";e.setAttribute("href","data:".concat(n,";charset=utf-8,").concat(encodeURIComponent(t.text))),e.setAttribute("download",t.fileName);var i=new MouseEvent("click");e.dispatchEvent(i)}}]),e}(),y.\u0275fac=function(t){return new(t||y)},y.\u0275cmp=f.Lb({type:y,selectors:[["app-merkle"]],viewQuery:function(t,e){var n;1&t&&f.Ic(g,1),2&t&&f.vc(n=f.ic())&&(e.networkContainer=n.first)},decls:36,vars:4,consts:[[4,"ngIf"],[1,"row"],[1,"col-xs-2","text-xs-center"],[1,"card","mb-3"],[1,"card-body"],["placeholder","Ingresar nuevo valor",1,"form-control",3,"ngModel","ngModelChange"],[1,"card","mb-3","text-center","my-auto"],[1,"card-body","align-items-center"],["type","button",1,"btn","btn-secondary","mr-3",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col-xl-6","text-xs-center"],[1,"form-group"],["type","file",3,"change"],["type","submit",1,"btn","btn-secondary",3,"click"],["id","mynetwork"],["siteConfigNetwork",""],["rows","2",1,"form-control"]],template:function(t,e){1&t&&(f.Xb(0,"div"),f.Xb(1,"h4"),f.Ec(2,"Merkle"),f.Wb(),f.Cc(3,v,2,0,"p",0),f.Cc(4,p,2,1,"p",0),f.Xb(5,"div",1),f.Xb(6,"div",2),f.Xb(7,"div",3),f.Xb(8,"div",4),f.Xb(9,"input",5),f.hc("ngModelChange",function(t){return e.x=t}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(10,"div",2),f.Xb(11,"div",6),f.Xb(12,"div",7),f.Xb(13,"button",8),f.hc("click",function(){return e.Insertar()}),f.Ec(14,"Agregar"),f.Wb(),f.Xb(15,"button",8),f.hc("click",function(){return e.clickBuscarNodo()}),f.Ec(16,"Buscar"),f.Wb(),f.Xb(17,"button",9),f.hc("click",function(){return e.Eliminar()}),f.Ec(18,"Eliminar"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(19,"div",1),f.Xb(20,"div",10),f.Xb(21,"fieldset",11),f.Xb(22,"input",12),f.hc("change",function(t){return e.cargarArchivo(t.target.files)}),f.Wb(),f.Xb(23,"button",13),f.hc("click",function(){return e.clickCargar()}),f.Ec(24,"Cargar a lista dinamica"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Sb(25,"br"),f.Sb(26,"div",14,15),f.Xb(28,"div",10),f.Xb(29,"fieldset",11),f.Xb(30,"label"),f.Ec(31,"JSON salida"),f.Wb(),f.Xb(32,"textarea",16),f.Ec(33),f.Wb(),f.Xb(34,"button",13),f.hc("click",function(){return e.downloadJson()}),f.Ec(35,"Guardar"),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&t&&(f.Eb(3),f.oc("ngIf",e.showMessage),f.Eb(1),f.oc("ngIf",e.showMessageBuscar),f.Eb(5),f.oc("ngModel",e.x),f.Eb(24),f.Fc(e.listaEnlJSon))},directives:[s.k,b.a,b.e,b.f],styles:["","#mynetwork[_ngcontent-%COMP%] {\n        width: 1200px;\n        height: 500px;\n        border: 1px solid lightgray;\n    }"]}),y)}],x=((m=function t(){o(this,t)}).\u0275fac=function(t){return new(t||m)},m.\u0275mod=f.Pb({type:m}),m.\u0275inj=f.Ob({imports:[[l.f.forChild(k)],l.f]}),m),E=r("QibW"),C=((w=function t(){o(this,t)}).\u0275fac=function(t){return new(t||w)},w.\u0275mod=f.Pb({type:w}),w.\u0275inj=f.Ob({imports:[[E.c,s.b,x,a.b,b.b]]}),w)}}])}();