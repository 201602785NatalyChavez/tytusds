(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{yxu9:function(t,e,n){"use strict";n.r(e),n.d(e,"HuffmanModule",function(){return S});var l=n("ofXK"),a=n("M0ag"),s=n("tyNb"),i=n("LRne"),r=n("ZZ88");function o(t){const e=h(t),n=e.map(t=>t[0]);let l=u(e),a=new Map;return n.forEach(t=>{a.set(t,c(l,t))}),a}function c(t,e,n=""){let l=[];if(void 0===typeof t.leafs)return n;if(l=t.leafs,1===l[0].symbols.length&&l[0].symbols[0]===e)return n+0;if(1===l[0].symbols.length&&l[0].symbols[0]!==e){if(1===l[1].symbols.length&&l[1].symbols[0]===e)return n+1;if(!0===l[1].symbols.includes(e))return c(l[1],e,n+1)}if(1===l[1].symbols.length&&l[1].symbols[0]===e)return n+1;if(1===l[1].symbols.length&&l[1].symbols[0]!==e){if(1===l[0].symbols.length&&l[0].symbols[0]===e)return n+0;if(!0===l[0].symbols.includes(e))return c(l[0],e,n+0)}return l[0].symbols.length>=2&&l[0].symbols.includes(e)?c(l[0],e,n+0):l[1].symbols.length>=2&&l[1].symbols.includes(e)?c(l[1],e,n+1):void 0}function h(t){let e=new Map;for(let l=0;l<t.length;l++){let n=0;for(let a=0;a<t.length;a++)e.has(t[l])||t[l]===t[a]&&l!==a&&n++;e.has(t[l])||e.set(t[l],n+1)}let n=Array.from(e);return n.sort((t,e)=>e[1]-t[1]),n}function u(t){let e,n,l,a;for(t=t.map(t=>({symbols:[t[0]],weight:t[1],leafs:[]}));t.length>2;)n=d(t),t.splice(t.indexOf(n),1),l=d(t),t.splice(t.indexOf(l),1),a=f(n,l),t.push(a);return e=f(t[0],t[1]),e}function f(t,e){let n,l=t.weight+e.weight;return n={symbols:t.symbols.concat(e.symbols),weight:l,leafs:[t,e]},n}function d(t,e=-1){let n,l=9999;for(let a=0;a<t.length;a++)t[a].weight<=l&&t[a].weight>=e&&(l=t[a].weight,n=t[a]);return n}class g{constructor(t){this.cadenaEntrada=t,this.codes=o(t),this.result=function(t,e){let n=[];for(let l=0;l<t.length;l++)n.push(e.get(t[l]));return n}(t,this.codes),this.frequency=h(t),this.relFreq=function(t){let e=0,n=[];for(let l=0;l<t.length;l++)e+=t[l][1];for(let l=0;l<t.length;l++){let a=(t[l][1]/e).toFixed(2);n.push([t[l][0],a])}return n}(this.frequency),this.construirSalida()}obtenerArbol(){return u(this.frequency)}construirSalida(){this.tablaSalida="";for(let A=this.frequency.length-1;A>=0;A--){const t=this.frequency[A];this.tablaSalida+=(" "==t[0]?"' '":t[0])+" "+t[1]+"/"+this.result.length+"\t"}this.tablaSalida+="\n";let t=[],e=this.arbol;t.push(this.result.length.toString()),t.push("\n");var n=e.leafs[0],l=e.leafs[1];t.push(l.weight+"/"+this.result.length+"\t"+n.weight+"/"+this.result.length),t.push("\n");var a="",s="",i="",r="",o=n.leafs[0];null!=o&&(a=o.weight+"/"+this.result.length);var c=n.leafs[1];null!=c&&(s=c.weight+"/"+this.result.length);var h=l.leafs[0];null!=h&&(i=h.weight+"/"+this.result.length);var u=l.leafs[1];null!=u&&(r=u.weight+"/"+this.result.length),t.push(r+"\t"+i+"\t"+s+"\t"+a),t.push("\n");var f="",d="",g="",b="",m="",p="",y="",w="",v=o.leafs[0];null!=v&&(f=v.weight+"/"+this.result.length);var E=o.leafs[1];null!=E&&(d=E.weight+"/"+this.result.length);var S=c.leafs[0];null!=S&&(g=S.weight+"/"+this.result.length);var X=c.leafs[1];null!=X&&(b=X.weight+"/"+this.result.length);var C=h.leafs[0];null!=C&&(m=C.weight+"/"+this.result.length);var W=h.leafs[1];null!=W&&(p=W.weight+"/"+this.result.length);var x=u.leafs[0];null!=x&&(y=x.weight+"/"+this.result.length);var M=u.leafs[1];null!=M&&(w=M.weight+"/"+this.result.length),t.push(w+"\t"+y+"\t"+p+"\t"+m+"\t"+b+"\t"+g+"\t"+d+"\t"+f);for(let A=t.length-1;A>=0;A--)this.tablaSalida+=t[A];this.tablaSalida+="\n\n";for(let A of Array.from(this.codes).reverse())this.tablaSalida+=(" "==A[0]?"' '":A[0])+":"+A[1]+"\t"}}class b{constructor(t,e,n,l,a){this.categoria=t,this.cadenaEntrada=e,this.longitudCadena=n,this.frecuencias=l,this.tablaSalida=a}}var m=n("fXoL"),p=n("3Pt+");function y(t,e){if(1&t&&(m.Xb(0,"md-toolbar",10),m.Xb(1,"div",11),m.Xb(2,"h3"),m.Ec(3),m.Wb(),m.Wb(),m.Wb()),2&t){const t=m.jc();m.Eb(3),m.Fc(t.strMessage)}}const w=[{path:"",component:(()=>{class t{constructor(){this.velocidadAnimacion=10,this.showMessage=!1,this.setting={element:{dynamicDownload:null}}}ngOnInit(){}actualizarJsonSalida(){let t=new b("Huffman",this.cadenaEntrada,this.huffmanImpl.result.length,this.huffmanImpl.frequency,this.huffmanImpl.tablaSalida);this.strHuffmanJsonSalida=JSON.stringify(t,void 0,4)}downloadJson(){this.fakeValidateUserData().subscribe(t=>{this.dyanmicDownloadByHtmlTag({fileName:"Huffman.json",text:t})})}fakeValidateUserData(){return Object(i.a)(this.strHuffmanJsonSalida)}dyanmicDownloadByHtmlTag(t){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));const e=this.setting.element.dynamicDownload,n=t.fileName.indexOf(".json")>-1?"text/json":"text/plain";e.setAttribute("href",`data:${n};charset=utf-8,${encodeURIComponent(t.text)}`),e.setAttribute("download",t.fileName);var l=new MouseEvent("click");e.dispatchEvent(l)}cargarArchivo(t){let e=t[0],n=new FileReader,l=this;n.onloadend=function(t){l.fileContent=n.result.toString()},n.readAsText(e),this.strCarga=l.fileContent}clickCargar(){this.strCarga=this.fileContent;let t=JSON.parse(this.strCarga);null!=t.animacion&&(this.velocidadAnimacion=t.animacion),null!=t.cadenaEntrada&&(this.cadenaEntrada=t.cadenaEntrada,this.huffmanImpl=new g(this.cadenaEntrada),console.log("Longitud cadena: ",this.huffmanImpl.result.length),console.log("Frecuencia caracteres: \n",this.huffmanImpl.frequency),console.log("Rel. frecuencia \n",this.huffmanImpl.relFreq),console.log("Arbol Huffman: \n",this.huffmanImpl.arbol),console.log("C\xf3digos alfabeto: \n",this.huffmanImpl.codes),this.strHuffmanJson=this.huffmanImpl.tablaSalida,this.actualizarJsonSalida())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Lb({type:t,selectors:[["app-huffman"]],decls:26,vars:6,consts:[["layout","row",4,"ngIf"],[1,"row"],[1,"col-xl-10","text-xs-center"],[1,"form-group"],["rows","6",1,"form-control",3,"ngModel","ngModelChange"],["type","file",3,"change"],["type","submit",1,"btn","btn-secondary",3,"click"],["for","customRange2",1,"form-label"],["type","range","min","0","max","10","id","customRange2",1,"form-range",3,"ngModel","ngModelChange"],["rows","10",1,"form-control"],["layout","row"],[1,"text-center"]],template:function(t,e){1&t&&(m.Cc(0,y,4,1,"md-toolbar",0),m.Xb(1,"h4"),m.Ec(2,"Algoritmo Huffman"),m.Wb(),m.Xb(3,"div",1),m.Xb(4,"div",2),m.Xb(5,"fieldset",3),m.Xb(6,"label"),m.Ec(7,"JSON a cargar"),m.Wb(),m.Xb(8,"textarea",4),m.hc("ngModelChange",function(t){return e.fileContent=t}),m.Ec(9),m.Wb(),m.Xb(10,"input",5),m.hc("change",function(t){return e.cargarArchivo(t.target.files)}),m.Wb(),m.Xb(11,"button",6),m.hc("click",function(){return e.clickCargar()}),m.Ec(12,"Ejecutar Algoritmo Huffman"),m.Wb(),m.Xb(13,"small"),m.Xb(14,"label",7),m.Ec(15),m.Wb(),m.Wb(),m.Xb(16,"input",8),m.hc("ngModelChange",function(t){return e.velocidadAnimacion=t}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(17,"div",1),m.Xb(18,"div",2),m.Xb(19,"fieldset",3),m.Xb(20,"label"),m.Ec(21,"JSON salida"),m.Wb(),m.Xb(22,"textarea",9),m.Ec(23),m.Wb(),m.Xb(24,"button",6),m.hc("click",function(){return e.downloadJson()}),m.Ec(25,"Guardar"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.oc("ngIf",e.showMessage),m.Eb(8),m.oc("ngModel",e.fileContent),m.Eb(1),m.Fc(e.fileContent),m.Eb(6),m.Gc("Velocidad animacion: ",e.velocidadAnimacion,""),m.Eb(1),m.oc("ngModel",e.velocidadAnimacion),m.Eb(7),m.Fc(e.strHuffmanJsonSalida))},directives:[l.k,p.a,p.e,p.f,p.i],styles:["textarea[_ngcontent-%COMP%]{font-size:12px}"],data:{animation:[Object(r.a)()]}}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({imports:[[s.f.forChild(w)],s.f]}),t})();var E=n("QibW");let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({imports:[[E.c,l.b,v,a.b,p.b]]}),t})()}}]);