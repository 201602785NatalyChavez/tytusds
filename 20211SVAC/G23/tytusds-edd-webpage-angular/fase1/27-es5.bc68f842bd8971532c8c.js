!function(){function t(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,l=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw l}}}}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{yxu9:function(n,a,i){"use strict";i.r(a),i.d(a,"HuffmanModule",function(){return x});var l=i("ofXK"),o=i("M0ag"),s=i("tyNb"),u=i("LRne"),c=i("ZZ88");function f(t){var n=d(t),e=n.map(function(t){return t[0]}),a=b(n),r=new Map;return e.forEach(function(t){r.set(t,h(a,t))}),r}function h(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=[];if(void 0===typeof t.leafs)return e;if(1===(a=t.leafs)[0].symbols.length&&a[0].symbols[0]===n)return e+0;if(1===a[0].symbols.length&&a[0].symbols[0]!==n){if(1===a[1].symbols.length&&a[1].symbols[0]===n)return e+1;if(!0===a[1].symbols.includes(n))return h(a[1],n,e+1)}if(1===a[1].symbols.length&&a[1].symbols[0]===n)return e+1;if(1===a[1].symbols.length&&a[1].symbols[0]!==n){if(1===a[0].symbols.length&&a[0].symbols[0]===n)return e+0;if(!0===a[0].symbols.includes(n))return h(a[0],n,e+0)}return a[0].symbols.length>=2&&a[0].symbols.includes(n)?h(a[0],n,e+0):a[1].symbols.length>=2&&a[1].symbols.includes(n)?h(a[1],n,e+1):void 0}function d(t){for(var n=new Map,e=0;e<t.length;e++){for(var a=0,r=0;r<t.length;r++)n.has(t[e])||t[e]===t[r]&&e!==r&&a++;n.has(t[e])||n.set(t[e],a+1)}var i=Array.from(n);return i.sort(function(t,n){return n[1]-t[1]}),i}function b(t){var n,e,a;for(t=t.map(function(t){return{symbols:[t[0]],weight:t[1],leafs:[]}});t.length>2;)n=m(t),t.splice(t.indexOf(n),1),e=m(t),t.splice(t.indexOf(e),1),a=g(n,e),t.push(a);return g(t[0],t[1])}function g(t,n){var e=t.weight+n.weight;return{symbols:t.symbols.concat(n.symbols),weight:e,leafs:[t,n]}}function m(t){for(var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=9999,r=0;r<t.length;r++)t[r].weight<=a&&t[r].weight>=e&&(a=t[r].weight,n=t[r]);return n}var v=function(){function n(t){e(this,n),this.cadenaEntrada=t,this.codes=f(t),this.result=function(t,n){for(var e=[],a=0;a<t.length;a++)e.push(n.get(t[a]));return e}(t,this.codes),this.frequency=d(t),this.relFreq=function(t){for(var n=0,e=[],a=0;a<t.length;a++)n+=t[a][1];for(var r=0;r<t.length;r++){var i=(t[r][1]/n).toFixed(2);e.push([t[r][0],i])}return e}(this.frequency),this.construirSalida()}return r(n,[{key:"obtenerArbol",value:function(){return b(this.frequency)}},{key:"construirSalida",value:function(){this.tablaSalida="";for(var n=this.frequency.length-1;n>=0;n--){var e=this.frequency[n];this.tablaSalida+=(" "==e[0]?"' '":e[0])+" "+e[1]+"/"+this.result.length+"\t"}this.tablaSalida+="\n";var a=[],r=this.arbol;a.push(this.result.length.toString()),a.push("\n");var i=r.leafs[0],l=r.leafs[1];a.push(l.weight+"/"+this.result.length+"\t"+i.weight+"/"+this.result.length),a.push("\n");var o="",s="",u="",c="",f=i.leafs[0];null!=f&&(o=f.weight+"/"+this.result.length);var h=i.leafs[1];null!=h&&(s=h.weight+"/"+this.result.length);var d=l.leafs[0];null!=d&&(u=d.weight+"/"+this.result.length);var b=l.leafs[1];null!=b&&(c=b.weight+"/"+this.result.length),a.push(c+"\t"+u+"\t"+s+"\t"+o),a.push("\n");var g="",m="",v="",y="",p="",w="",E="",S="",C=f.leafs[0];null!=C&&(g=C.weight+"/"+this.result.length);var A=f.leafs[1];null!=A&&(m=A.weight+"/"+this.result.length);var X=h.leafs[0];null!=X&&(v=X.weight+"/"+this.result.length);var k=h.leafs[1];null!=k&&(y=k.weight+"/"+this.result.length);var W=d.leafs[0];null!=W&&(p=W.weight+"/"+this.result.length);var x=d.leafs[1];null!=x&&(w=x.weight+"/"+this.result.length);var M=b.leafs[0];null!=M&&(E=M.weight+"/"+this.result.length);var I=b.leafs[1];null!=I&&(S=I.weight+"/"+this.result.length),a.push(S+"\t"+E+"\t"+w+"\t"+p+"\t"+y+"\t"+v+"\t"+m+"\t"+g);for(var O=a.length-1;O>=0;O--)this.tablaSalida+=a[O];this.tablaSalida+="\n\n";var J,j=t(Array.from(this.codes).reverse());try{for(j.s();!(J=j.n()).done;){var H=J.value;this.tablaSalida+=(" "==H[0]?"' '":H[0])+":"+H[1]+"\t"}}catch(q){j.e(q)}finally{j.f()}}}]),n}(),y=function t(n,a,r,i,l){e(this,t),this.categoria=n,this.cadenaEntrada=a,this.longitudCadena=r,this.frecuencias=i,this.tablaSalida=l},p=i("fXoL"),w=i("3Pt+");function E(t,n){if(1&t&&(p.Xb(0,"md-toolbar",10),p.Xb(1,"div",11),p.Xb(2,"h3"),p.Ec(3),p.Wb(),p.Wb(),p.Wb()),2&t){var e=p.jc();p.Eb(3),p.Fc(e.strMessage)}}var S,C,A,X=[{path:"",component:(S=function(){function t(){e(this,t),this.velocidadAnimacion=10,this.showMessage=!1,this.setting={element:{dynamicDownload:null}}}return r(t,[{key:"ngOnInit",value:function(){}},{key:"actualizarJsonSalida",value:function(){var t=new y("Huffman",this.cadenaEntrada,this.huffmanImpl.result.length,this.huffmanImpl.frequency,this.huffmanImpl.tablaSalida);this.strHuffmanJsonSalida=JSON.stringify(t,void 0,4)}},{key:"downloadJson",value:function(){var t=this;this.fakeValidateUserData().subscribe(function(n){t.dyanmicDownloadByHtmlTag({fileName:"Huffman.json",text:n})})}},{key:"fakeValidateUserData",value:function(){return Object(u.a)(this.strHuffmanJsonSalida)}},{key:"dyanmicDownloadByHtmlTag",value:function(t){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));var n=this.setting.element.dynamicDownload,e=t.fileName.indexOf(".json")>-1?"text/json":"text/plain";n.setAttribute("href","data:".concat(e,";charset=utf-8,").concat(encodeURIComponent(t.text))),n.setAttribute("download",t.fileName);var a=new MouseEvent("click");n.dispatchEvent(a)}},{key:"cargarArchivo",value:function(t){var n=t[0],e=new FileReader,a=this;e.onloadend=function(t){a.fileContent=e.result.toString()},e.readAsText(n),this.strCarga=a.fileContent}},{key:"clickCargar",value:function(){this.strCarga=this.fileContent;var t=JSON.parse(this.strCarga);null!=t.animacion&&(this.velocidadAnimacion=t.animacion),null!=t.cadenaEntrada&&(this.cadenaEntrada=t.cadenaEntrada,this.huffmanImpl=new v(this.cadenaEntrada),console.log("Longitud cadena: ",this.huffmanImpl.result.length),console.log("Frecuencia caracteres: \n",this.huffmanImpl.frequency),console.log("Rel. frecuencia \n",this.huffmanImpl.relFreq),console.log("Arbol Huffman: \n",this.huffmanImpl.arbol),console.log("C\xf3digos alfabeto: \n",this.huffmanImpl.codes),this.strHuffmanJson=this.huffmanImpl.tablaSalida,this.actualizarJsonSalida())}}]),t}(),S.\u0275fac=function(t){return new(t||S)},S.\u0275cmp=p.Lb({type:S,selectors:[["app-huffman"]],decls:26,vars:6,consts:[["layout","row",4,"ngIf"],[1,"row"],[1,"col-xl-10","text-xs-center"],[1,"form-group"],["rows","6",1,"form-control",3,"ngModel","ngModelChange"],["type","file",3,"change"],["type","submit",1,"btn","btn-secondary",3,"click"],["for","customRange2",1,"form-label"],["type","range","min","0","max","10","id","customRange2",1,"form-range",3,"ngModel","ngModelChange"],["rows","10",1,"form-control"],["layout","row"],[1,"text-center"]],template:function(t,n){1&t&&(p.Cc(0,E,4,1,"md-toolbar",0),p.Xb(1,"h4"),p.Ec(2,"Algoritmo Huffman"),p.Wb(),p.Xb(3,"div",1),p.Xb(4,"div",2),p.Xb(5,"fieldset",3),p.Xb(6,"label"),p.Ec(7,"JSON a cargar"),p.Wb(),p.Xb(8,"textarea",4),p.hc("ngModelChange",function(t){return n.fileContent=t}),p.Ec(9),p.Wb(),p.Xb(10,"input",5),p.hc("change",function(t){return n.cargarArchivo(t.target.files)}),p.Wb(),p.Xb(11,"button",6),p.hc("click",function(){return n.clickCargar()}),p.Ec(12,"Ejecutar Algoritmo Huffman"),p.Wb(),p.Xb(13,"small"),p.Xb(14,"label",7),p.Ec(15),p.Wb(),p.Wb(),p.Xb(16,"input",8),p.hc("ngModelChange",function(t){return n.velocidadAnimacion=t}),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Xb(17,"div",1),p.Xb(18,"div",2),p.Xb(19,"fieldset",3),p.Xb(20,"label"),p.Ec(21,"JSON salida"),p.Wb(),p.Xb(22,"textarea",9),p.Ec(23),p.Wb(),p.Xb(24,"button",6),p.hc("click",function(){return n.downloadJson()}),p.Ec(25,"Guardar"),p.Wb(),p.Wb(),p.Wb(),p.Wb()),2&t&&(p.oc("ngIf",n.showMessage),p.Eb(8),p.oc("ngModel",n.fileContent),p.Eb(1),p.Fc(n.fileContent),p.Eb(6),p.Gc("Velocidad animacion: ",n.velocidadAnimacion,""),p.Eb(1),p.oc("ngModel",n.velocidadAnimacion),p.Eb(7),p.Fc(n.strHuffmanJsonSalida))},directives:[l.k,w.a,w.e,w.f,w.i],styles:["textarea[_ngcontent-%COMP%]{font-size:12px}"],data:{animation:[Object(c.a)()]}}),S)}],k=((C=function t(){e(this,t)}).\u0275fac=function(t){return new(t||C)},C.\u0275mod=p.Pb({type:C}),C.\u0275inj=p.Ob({imports:[[s.f.forChild(X)],s.f]}),C),W=i("QibW"),x=((A=function t(){e(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275mod=p.Pb({type:A}),A.\u0275inj=p.Ob({imports:[[W.c,l.b,k,o.b,w.b]]}),A)}}])}();