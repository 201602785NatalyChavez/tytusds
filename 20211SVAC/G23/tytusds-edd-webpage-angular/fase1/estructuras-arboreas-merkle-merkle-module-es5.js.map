{"version":3,"sources":["webpack:///src/app/layout/estructuras-arboreas/merkle/merkle.component.ts","webpack:///src/app/layout/estructuras-arboreas/merkle/clase-arbol.ts","webpack:///src/app/layout/estructuras-arboreas/merkle/merkle.component.html","webpack:///src/app/layout/estructuras-arboreas/merkle/nodo-merkle.ts","webpack:///src/app/layout/estructuras-arboreas/merkle/merkle-routing.module.ts","webpack:///src/app/layout/estructuras-arboreas/merkle/merkle.component.css","webpack:///src/app/layout/estructuras-arboreas/merkle/merkle.module.ts","webpack:///src/app/layout/estructuras-arboreas/merkle/hash.ts"],"names":["MerkleComponent","bst","x","valores","fileContent","setting","element","dynamicDownload","charCodeAt","console","log","add","parseInt","string","visit","tophash","listaEnlJSon","JSON","stringify","drawSvgNetwork","treeData","getTreeData","loadVisTree","treedata","options","nodes","widthConstraint","layout","hierarchical","parentCentralization","direction","sortMethod","shakeTowards","container","networkContainer","nativeElement","network","vis","Network","that","on","params","id","label","title","auth","dot","dotgen","DOTstring","parsedData","parseDOTNetwork","edges","from","to","DIR","LENGTH_MAIN","LENGTH_SUB","data","window","fileList","file","fileReader","FileReader","self","onloadend","result","toString","readAsText","strCarga","strIntoObj","parse","animacion","undefined","velocidadAnimacion","repeticion","opcionRepeticiones","posicion","opcionOperar","valorStrNodo","fakeValidateUserData","subscribe","res","dyanmicDownloadByHtmlTag","fileName","text","arg","document","createElement","fileType","indexOf","setAttribute","encodeURIComponent","event","MouseEvent","dispatchEvent","selector","template","Merkle","datablock","index","value","push","exp","_createTree","tmp","left","right","n","genHash","array","Uint32Array","crypto","getRandomValues","hash","preorder","Math","pow","length","i","createTree","forEach","getElementById","innerHTML","DataNode","routes","path","component","MerkleRoutingModule","imports","forChild","exports","MerkleModule","declarations","HashNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAYaA,eAAe;AAa1B,mCAAc;AAAA;;AAXd,eAAAC,GAAA,GAAM,IAAI,mDAAJ,EAAN;AACA,eAAAC,CAAA,GAAW,EAAX;AAEA,eAAAC,OAAA,GAAiB,CAAjB;AAsJD,eAAAC,WAAA,GAAsB,EAAtB;AAmCS,eAAAC,OAAA,GAAU;AAChBC,mBAAO,EAAE;AACPC,6BAAe,EAAE;AADV;AADO,WAAV;AAjLS;;AAbS;AAAA;AAAA,iBAe1B,oBAAQ,CACP;AAhByB;AAAA;AAAA,iBAkB1B,oBAAQ;AAEN,gBAAG,KAAKL,CAAL,CAAOM,UAAP,CAAkB,CAAlB,KAAsB,CAAzB,EAA4B;AAC1BC,qBAAO,CAACC,GAAR,CAAY,aAAZ;AACD,aAFD,MAEO,IAAG,KAAKR,CAAL,CAAOM,UAAP,CAAkB,CAAlB,KAAsB,EAAtB,IAA4B,KAAKN,CAAL,CAAOM,UAAP,CAAkB,CAAlB,KAAsB,EAArD,EAAyD;AAC9D,mBAAKP,GAAL,CAASU,GAAT,CAAaC,QAAQ,CAAC,KAAKV,CAAN,CAArB;AACA,mBAAKC,OAAL,IAAgB,CAAhB;AACD,aAHM,MAGD;AACJ,mBAAKF,GAAL,CAASY,MAAT,GAAkB,IAAlB;AACA,mBAAKZ,GAAL,CAASU,GAAT,CAAa,KAAKT,CAAlB;AACA,mBAAKD,GAAL,CAASY,MAAT,GAAkB,KAAlB;AACA,mBAAKV,OAAL,IAAgB,CAAhB;AACD;;AAID,iBAAKD,CAAL,GAAS,EAAT;AAEAO,mBAAO,CAACC,GAAR,CAAY,wBAAZ;AAEA,iBAAKR,CAAL,GAAS,IAAT;AACA,iBAAKY,KAAL;AACAL,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKT,GAAL,CAASc,OAA/B;AAEA,iBAAKC,YAAL,GAAoBC,IAAI,CAACC,SAAL,CAAe,KAAKjB,GAApB,CAApB;AACD;AA3CyB;AAAA;AAAA,iBA6C1B,iBAAK;AACH,gBAAI,KAAKE,OAAL,GAAe,CAAhB,IAAsB,CAAzB,EAA2B;AACzB,mBAAKgB,cAAL;AACA,kBAAIC,QAAQ,GAAG,KAAKC,WAAL,EAAf;AACA,mBAAKC,WAAL,CAAiBF,QAAjB;AACD;AACF;AAnDyB;AAAA;AAAA,iBAqD1B,qBAAYG,QAAZ,EAAsB;AACpB,gBAAIC,OAAO,GAAG;AACZC,mBAAK,EAAE;AACHC,+BAAe,EAAE;AADd,eADK;AAIZC,oBAAM,EAAE;AACJC,4BAAY,EAAE;AACVC,sCAAoB,EAAE,IADZ;AAEVC,2BAAS,EAAE,IAFD;AAGVC,4BAAU,EAAE,UAHF;AAIVC,8BAAY,EAAE;AAJJ;AADV;AAJI,aAAd;AAaA,gBAAIC,SAAS,GAAG,KAAKC,gBAAL,CAAsBC,aAAtC;AACA,iBAAKC,OAAL,GAAe,IAAIC,GAAG,CAACC,OAAR,CAAgBL,SAAhB,EAA2BV,QAA3B,EAAqCC,OAArC,CAAf;AAEA,gBAAIe,IAAI,GAAG,IAAX;AACA,iBAAKH,OAAL,CAAaI,EAAb,CAAgB,WAAhB,EAA6B,UAAUC,MAAV,EAAkB;AAC7ChC,qBAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC+B,MAAhC;AACD,aAFD;AAGA,iBAAKL,OAAL,CAAaI,EAAb,CAAgB,UAAhB,EAA4B,UAASC,MAAT,EAAe;AACzChC,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B+B,MAA/B;AACD,aAFD;AAGD;AA7EyB;AAAA;AAAA,iBAgF1B,uBAAc;AAEZ,gBAAIhB,KAAK,GAAE,CACP;AAACiB,gBAAE,EAAE,CAAL;AAAQC,mBAAK,EAAE,QAAf;AAAyBC,mBAAK,EAAE;AAAhC,aADO,EAEP;AAACF,gBAAE,EAAE,CAAL;AAAQC,mBAAK,EAAE;AAAf,aAFO,EAGP;AAACD,gBAAE,EAAE,CAAL;AAAQC,mBAAK,EAAE;AAAf,aAHO,EAIP;AAACD,gBAAE,EAAE,CAAL;AAAQC,mBAAK,EAAE;AAAf,aAJO,EAKP;AAACD,gBAAE,EAAE,CAAL;AAAQC,mBAAK,EAAE;AAAf,aALO,EAMP;AAACD,gBAAE,EAAE,CAAL;AAAQC,mBAAK,EAAE;AAAf,aANO,CAAX;AAUA,iBAAK1C,GAAL,CAAS4C,IAAT;AACA,iBAAK5C,GAAL,CAAS6C,GAAT,GAAe,oBAAf;AACA,iBAAK7C,GAAL,CAAS8C,MAAT,CAAgB,KAAK9C,GAAL,CAASc,OAAzB;AACA,iBAAKd,GAAL,CAAS6C,GAAT,IAAgB,GAAhB;AACA,gBAAIE,SAAS,GAAG,KAAK/C,GAAL,CAAS6C,GAAzB;AACA,gBAAIG,UAAU,GAAGZ,GAAG,CAACa,eAAJ,CAAoBF,SAApB,CAAjB;AAGAvC,mBAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAKT,GAAL,CAAS6C,GAA3B;AACA,iBAAK7C,GAAL,CAAS6C,GAAT,GAAe,EAAf;AAGA,gBAAIK,KAAK,GAAG,CACR;AAACC,kBAAI,EAAE,CAAP;AAAUC,gBAAE,EAAE;AAAd,aADQ,EAER;AAACD,kBAAI,EAAE,CAAP;AAAUC,gBAAE,EAAE;AAAd,aAFQ,EAGR;AAACD,kBAAI,EAAE,CAAP;AAAUC,gBAAE,EAAE;AAAd,aAHQ,EAIR;AAACD,kBAAI,EAAE,CAAP;AAAUC,gBAAE,EAAE;AAAd,aAJQ,EAKR;AAACD,kBAAI,EAAE,CAAP;AAAUC,gBAAE,EAAE;AAAd,aALQ,CAAZ;AAQA,gBAAIjC,QAAQ,GAAG;AACbK,mBAAK,EAAGwB,UAAU,CAACxB,KADN;AAEb0B,mBAAK,EAAEF,UAAU,CAACE;AAFL,aAAf;AAKA,mBAAO/B,QAAP;AACD;AAtHyB;AAAA;AAAA,iBAwH1B,0BAAiB;AACf,gBAAIK,KAAK,GAAG,IAAZ;AACC,gBAAI0B,KAAK,GAAG,IAAZ;AACA,gBAAIf,OAAO,GAAG,IAAd;AAEA,gBAAIkB,GAAG,GAAG,iBAAV;AACA,gBAAIC,WAAW,GAAG,GAAlB;AACA,gBAAIC,UAAU,GAAG,EAAjB;AAGK/B,iBAAK,GAAG,EAAR;AAEC0B,iBAAK,GAAG,EAAR;AAEA,gBAAIM,IAAI,GAAG;AACPhC,mBAAK,EAAEA,KADA;AAEP0B,mBAAK,EAAEA;AAFA,aAAX;AAIA,gBAAI3B,OAAO,GAAG;AACbC,mBAAK,EAAE;AACHC,+BAAe,EAAE;AADd,eADM;AAIbC,oBAAM,EAAE;AACJC,4BAAY,EAAE;AACVC,sCAAoB,EAAE,IADZ;AAEVC,2BAAS,EAAE,IAFD;AAGVC,4BAAU,EAAE,UAHF;AAIVC,8BAAY,EAAE;AAJJ;AADV;AAJK,aAAd;AAaA0B,kBAAM,CAACrB,GAAP,GAAa,mBAAO;AAAC;AAAA,kBAAD,CAApB;AAET;AAzJ0B;AAAA;AAAA,iBA6JnB,uBAAcsB,QAAd,EAAgC;AACrC,gBAAIC,IAAI,GAAGD,QAAQ,CAAC,CAAD,CAAnB;AACA,gBAAIE,UAAU,GAAe,IAAIC,UAAJ,EAA7B;AACA,gBAAIC,IAAI,GAAG,IAAX;;AACAF,sBAAU,CAACG,SAAX,GAAuB,UAAS9D,CAAT,EAAY;AACjC6D,kBAAI,CAAC3D,WAAL,GAAmByD,UAAU,CAACI,MAAX,CAAkBC,QAAlB,EAAnB;AACD,aAFD;;AAGAL,sBAAU,CAACM,UAAX,CAAsBP,IAAtB;AACA,iBAAKQ,QAAL,GAAcL,IAAI,CAAC3D,WAAnB;AACD;AAtKyB;AAAA;AAAA,iBAwK1B,uBAAW;AACT,iBAAKgE,QAAL,GAAc,KAAKhE,WAAnB;AACAK,mBAAO,CAACC,GAAR,CAAY,KAAK0D,QAAjB;AACA,gBAAIC,UAAU,GAAGpD,IAAI,CAACqD,KAAL,CAAW,KAAKF,QAAhB,CAAjB;AACA3D,mBAAO,CAACC,GAAR,CAAY2D,UAAZ;;AACA,gBAAGA,UAAU,CAACE,SAAX,IAAsBC,SAAtB,IAAiCH,UAAU,CAACE,SAAX,IAAsB,IAA1D,EAA+D;AAC7D,mBAAKE,kBAAL,GAAwBJ,UAAU,CAACE,SAAnC;AACD;;AACD,gBAAGF,UAAU,CAACK,UAAX,IAAuBF,SAA1B,EAAoC;AAClC,mBAAKG,kBAAL,GAAwBN,UAAU,CAACK,UAAnC;AACD;;AACD,gBAAGL,UAAU,CAACO,QAAX,IAAqBJ,SAAxB,EAAkC;AAChC,kBAAGH,UAAU,CAACO,QAAX,IAAqB,QAArB,IAA+BP,UAAU,CAACO,QAAX,IAAqB,KAAvD,EACE,KAAKC,YAAL,GAAkBR,UAAU,CAACO,QAA7B;AACH;;AAdQ,uDAegBP,UAAU,CAAClE,OAf3B;AAAA;;AAAA;AAeT,kEAA6C;AAAA,oBAApC2E,YAAoC;AAC3C,qBAAK7E,GAAL,CAASU,GAAT,CAAamE,YAAb;AACD;AAjBQ;AAAA;AAAA;AAAA;AAAA;;AAkBT,iBAAKhE,KAAL;AAED;AA5LyB;AAAA;AAAA,iBAmM1B,wBAAe;AAAA;;AACb,iBAAKiE,oBAAL,GAA4BC,SAA5B,CAAsC,UAACC,GAAD,EAAS;AAC7C,mBAAI,CAACC,wBAAL,CAA8B;AAC5BC,wBAAQ,EAAE,aADkB;AAE5BC,oBAAI,EAAEH;AAFsB,eAA9B;AAID,aALD;AAMD;AA1MyB;AAAA;AAAA,iBA2M1B,gCAAuB;AACrB,mBAAO,gDAAG,KAAKjE,YAAR,CAAP;AACD;AA7MyB;AAAA;AAAA,iBA8MlB,kCAAyBqE,GAAzB,EAGH;AACD,gBAAI,CAAC,KAAKhF,OAAL,CAAaC,OAAb,CAAqBC,eAA1B,EAA2C;AACzC,mBAAKF,OAAL,CAAaC,OAAb,CAAqBC,eAArB,GAAuC+E,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAvC;AACD;;AACD,gBAAMjF,OAAO,GAAG,KAAKD,OAAL,CAAaC,OAAb,CAAqBC,eAArC;AACA,gBAAMiF,QAAQ,GAAGH,GAAG,CAACF,QAAJ,CAAaM,OAAb,CAAqB,OAArB,IAAgC,CAAC,CAAjC,GAAqC,WAArC,GAAmD,YAApE;AACAnF,mBAAO,CAACoF,YAAR,CAAqB,MAArB,iBAAqCF,QAArC,4BAA+DG,kBAAkB,CAACN,GAAG,CAACD,IAAL,CAAjF;AACA9E,mBAAO,CAACoF,YAAR,CAAqB,UAArB,EAAiCL,GAAG,CAACF,QAArC;AACA,gBAAIS,KAAK,GAAG,IAAIC,UAAJ,CAAe,OAAf,CAAZ;AACAvF,mBAAO,CAACwF,aAAR,CAAsBF,KAAtB;AACD;AA3NuB;;AAAA;AAAA,S;;;;;;;;gBACzB,uD;AAAS,iBAAC,mBAAD;;;AADC5F,qBAAe,6DAL3B,gEAAU;AACT+F,gBAAQ,EAAE,YADD;AAETC,gBAAQ,EAAR,yEAFS;;AAAA,OAAV,CAK2B,E,iFAAA,GAAfhG,eAAe,CAAf;;;;;;;;;;;;;;;;ACZb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAGaiG,M;AAOT,0BAAc;AAAA;;AACZ,eAAKlF,OAAL,GAAe,IAAf;AACA,eAAKmF,SAAL,GAAiB,EAAjB;AACA,eAAKpD,GAAL,GAAW,EAAX;AACA,eAAKqD,KAAL,GAAa,CAAb;AACA,eAAKtF,MAAL,GAAc,KAAd;AACD;;;;iBAED,aAAIuF,KAAJ,EAAW;AACT,iBAAKF,SAAL,CAAeG,IAAf,CAAoB,IAAI,qDAAJ,CAAaD,KAAb,CAApB;AACD;;;iBAED,oBAAWE,GAAX,EAAgB;AACd,iBAAKvF,OAAL,GAAe,IAAI,8CAAJ,CAAa,CAAb,CAAf;;AACA,iBAAKwF,WAAL,CAAiB,KAAKxF,OAAtB,EAA+BuF,GAA/B;AACD;;;iBAED,qBAAYE,GAAZ,EAAiBF,GAAjB,EAAsB;AACpB,gBAAIA,GAAG,GAAG,CAAV,EAAa;AACXE,iBAAG,CAACC,IAAJ,GAAW,IAAI,8CAAJ,CAAa,CAAb,CAAX;AACAD,iBAAG,CAACE,KAAJ,GAAY,IAAI,8CAAJ,CAAa,CAAb,CAAZ;;AACA,mBAAKH,WAAL,CAAiBC,GAAG,CAACC,IAArB,EAA2BH,GAAG,GAAG,CAAjC;;AACA,mBAAKC,WAAL,CAAiBC,GAAG,CAACE,KAArB,EAA4BJ,GAAG,GAAG,CAAlC;AACD;AACF;;;iBAED,iBAAQE,GAAR,EAAaG,CAAb,EAAgB;AACd,gBAAIH,GAAG,IAAI,IAAX,EAAiB;AACf,mBAAKI,OAAL,CAAaJ,GAAG,CAACC,IAAjB,EAAuBE,CAAvB;AACA,mBAAKC,OAAL,CAAaJ,GAAG,CAACE,KAAjB,EAAwBC,CAAxB;;AAEA,kBAAIH,GAAG,CAACC,IAAJ,IAAY,IAAZ,IAAoBD,GAAG,CAACE,KAAJ,IAAa,IAArC,EAA2C;AACzCF,mBAAG,CAACC,IAAJ,GAAW,KAAKP,SAAL,CAAeS,CAAC,GAAC,KAAKR,KAAL,EAAjB,CAAX;AACA,oBAAIU,KAAK,GAAG,IAAIC,WAAJ,CAAgB,CAAhB,CAAZ;AACApD,sBAAM,CAACqD,MAAP,CAAcC,eAAd,CAA8BH,KAA9B;AAEAL,mBAAG,CAACS,IAAJ,GAAWJ,KAAK,CAAC,CAAD,CAAhB;AACD,eAND,MAMO;AACLL,mBAAG,CAACS,IAAJ,GAAW,CAACrG,QAAQ,CAAC4F,GAAG,CAACC,IAAJ,CAASQ,IAAV,EAAgB,EAAhB,CAAR,GAA4BrG,QAAQ,CAAC4F,GAAG,CAACE,KAAJ,CAAUO,IAAX,EAAiB,EAAjB,CAArC,EAA2D/C,QAA3D,CAAoE,EAApE,CAAX;AACD;AACF;AACF;;;iBAED,kBAASsC,GAAT,EAAc;AACZ,gBAAIA,GAAG,IAAI,IAAX,EAAiB;AACf,kBAAIA,GAAG,YAAY,qDAAnB,EAA6B;AAE3B/F,uBAAO,CAACC,GAAR,CAAY8F,GAAG,CAACJ,KAAhB;AACD,eAHD,MAGO;AAEL3F,uBAAO,CAACC,GAAR,CAAY8F,GAAG,CAACJ,KAAhB;AACD;;AACD,mBAAKc,QAAL,CAAcV,GAAG,CAACC,IAAlB;AACA,mBAAKS,QAAL,CAAcV,GAAG,CAACE,KAAlB;AACD;AACF;;;iBAED,gBAAO;AACL,gBAAIJ,GAAG,GAAG,CAAV;;AACA,mBAAOa,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYd,GAAZ,IAAmB,KAAKJ,SAAL,CAAemB,MAAzC,EAAiD;AAC/Cf,iBAAG,IAAI,CAAP;AACD;;AACD,iBAAK,IAAIgB,CAAC,GAAG,KAAKpB,SAAL,CAAemB,MAA5B,EAAoCC,CAAC,GAAGH,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYd,GAAZ,CAAxC,EAA0DgB,CAAC,EAA3D,EAA+D;AAC7D,mBAAKpB,SAAL,CAAeG,IAAf,CAAoB,IAAI,qDAAJ,CAAaiB,CAAC,GAAC,GAAf,CAApB;AACD;;AACD,iBAAKnB,KAAL,GAAagB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYd,GAAZ,CAAb;AACA,iBAAKiB,UAAL,CAAgBjB,GAAhB;AACA,iBAAKM,OAAL,CAAa,KAAK7F,OAAlB,EAA2BoG,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYd,GAAZ,CAA3B;AACA,iBAAKY,QAAL,CAAc,KAAKnG,OAAnB;AACD;;;iBAED,gBAAO;AACL,iBAAKmF,SAAL,CAAesB,OAAf,CAAuB,UAAAlH,OAAO;AAAA,qBAAIgF,QAAQ,CAACmC,cAAT,CAAwB,KAAxB,EAA+BC,SAA/B,IAA0CpH,OAAO,CAAC8F,KAAR,GAAc,GAA5D;AAAA,aAA9B;AACD;;;iBAED,gBAAOI,GAAP,EAAY;AACV,gBAAIA,GAAG,IAAI,IAAX,EAAiB;AACf,kBAAIA,GAAG,CAACC,IAAJ,IAAY,IAAhB,EAAqB;AACnB,oBAAID,GAAG,CAACC,IAAJ,YAAoB,qDAAxB,EAAkC;AAChC,uBAAK3D,GAAL,IAAY,MAAI0D,GAAG,CAACC,IAAJ,CAASL,KAAb,GAAmB,uBAAnB,GAA2CI,GAAG,CAACS,IAA/C,GAAoD,IAAhE;AACD;AACF;;AACD,kBAAIT,GAAG,CAACC,IAAJ,YAAoB,8CAAxB,EAAkC;AAChC,oBAAID,GAAG,CAACC,IAAJ,IAAY,IAAhB,EAAsB,KAAK3D,GAAL,IAAY,QAAM0D,GAAG,CAACC,IAAJ,CAASQ,IAAf,GAAoB,UAApB,GAA+BT,GAAG,CAACS,IAAnC,GAAwC,IAApD;AACtB,oBAAIT,GAAG,CAACE,KAAJ,IAAa,IAAjB,EAAuB,KAAK5D,GAAL,IAAY,QAAM0D,GAAG,CAACE,KAAJ,CAAUO,IAAhB,GAAqB,UAArB,GAAgCT,GAAG,CAACS,IAApC,GAAyC,IAArD;AACxB;;AACD,mBAAKlE,MAAL,CAAYyD,GAAG,CAACC,IAAhB;AACA,mBAAK1D,MAAL,CAAYyD,GAAG,CAACE,KAAhB;AACD;AACF;;;;;;;;;;;;;;;;;;;;;ACnGL;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAA;;;AAAA;AAAA;AAAA;;UAAaiB,Q,GAET,kBAAYvB,KAAZ,EAAmB;AAAA;;AACrB,aAAKA,KAAL,GAAcA,KAAd;AACA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAF,UAAMwB,MAAM,GAAW,CACnB;AACIC,YAAI,EAAE,EADV;AAEIC,iBAAS,EAAE;AAFf,OADmB,CAAvB;;UAWaC,mBAAmB;AAAA;AAAA,O;;AAAnBA,yBAAmB,6DAJ/B,+DAAS;AACNC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADH;AAENM,eAAO,EAAE,CAAC,4DAAD;AAFH,OAAT,CAI+B,GAAnBH,mBAAmB,CAAnB;;;;;;;;;;;;;;;;ACfb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCcFI,YAAY;AAAA;AAAA,O;;AAAZA,kBAAY,6DAJxB,+DAAS;AACNH,eAAO,EAAE,CAAC,sEAAD,EAAgB,4DAAhB,EAA8B,0EAA9B,EAAmD,wDAAnD,EAAoE,0DAApE,CADH;AAENI,oBAAY,EAAE,CAAC,iEAAD;AAFR,OAAT,CAIwB,GAAZD,YAAY,CAAZ;;;;;;;;;;;;;;;;ACdb;AAAA;;;AAAA;AAAA;AAAA;;UAAaE,Q,GAIT,kBAAYpB,IAAZ,EAAkB;AAAA;;AAChB,aAAKA,IAAL,GAAaA,IAAb;AACA,aAAKR,IAAL,GAAa,IAAb;AACA,aAAKC,KAAL,GAAa,IAAb;AACD,O","file":"estructuras-arboreas-merkle-merkle-module-es5.js","sourcesContent":["import { Component, OnInit, Input, ViewChild, ElementRef,AfterViewInit, Renderer2, ComponentFactoryResolver} from '@angular/core';\r\nimport { of, Subscription } from 'rxjs';\r\ndeclare var vis:any\r\nimport { Merkle } from './clase-arbol'\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-merkle',\r\n  templateUrl: './merkle.component.html',\r\n  styleUrls: ['./merkle.component.css']\r\n})\r\nexport class MerkleComponent implements OnInit {\r\n  @ViewChild(\"siteConfigNetwork\") networkContainer: ElementRef;\r\n  bst = new Merkle()\r\n  x:string = ''\r\n  public network:any\r\n  valores:number = 0\r\n\r\n  strCarga:string\r\n  velocidadAnimacion:number\r\n  opcionRepeticiones:string\r\n  opcionOperar:string\r\n  listaEnlJSon:string\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  Insertar(){\r\n    \r\n    if(this.x.charCodeAt(0)==8) { \r\n      console.log(\"No hay nada\")\r\n    } else if(this.x.charCodeAt(0)>=48 && this.x.charCodeAt(0)<=57) {\r\n      this.bst.add(parseInt(this.x));\r\n      this.valores += 1\r\n    } else{ \r\n      this.bst.string = true\r\n      this.bst.add(this.x)\r\n      this.bst.string = false\r\n      this.valores += 1\r\n    }\r\n    \r\n    \r\n   \r\n    this.x = ''\r\n    \r\n    console.log(\"----------------------\")\r\n   \r\n    this.x = null\r\n    this.visit()\r\n    console.log(\"TOPHASH\",this.bst.tophash)\r\n  \r\n    this.listaEnlJSon = JSON.stringify(this.bst);\r\n  }\r\n\r\n  visit(){\r\n    if((this.valores % 2) == 0){\r\n      this.drawSvgNetwork()\r\n      var treeData = this.getTreeData()\r\n      this.loadVisTree(treeData)\r\n    }\r\n  }\r\n\r\n  loadVisTree(treedata) {\r\n    var options = {\r\n      nodes: {\r\n          widthConstraint: 80,\r\n      },        \r\n      layout: {\r\n          hierarchical: {\r\n              parentCentralization: true,\r\n              direction: 'DU',        \r\n              sortMethod: 'directed',  \r\n              shakeTowards: 'roots'                  \r\n      },\r\n      },                        \r\n  };\r\n    var container = this.networkContainer.nativeElement;\r\n    this.network = new vis.Network(container, treedata, options);\r\n\r\n    var that = this;\r\n    this.network.on(\"hoverNode\", function (params) {                  \r\n      console.log('hoverNode Event:', params);\r\n    });\r\n    this.network.on(\"blurNode\", function(params){\r\n      console.log('blurNode event:', params);      \r\n    });\r\n  }\r\n\r\n\r\n  getTreeData() {  \r\n  \r\n    var nodes =[\r\n        {id: 1, label: 'Node 1', title: 'I am node 1!'},\r\n        {id: 2, label: 'Node 2'},\r\n        {id: 3, label: 'Node 3'},\r\n        {id: 4, label: 'Node 4'},\r\n        {id: 5, label: 'Node 5'},\r\n        {id: 6, label: 'Node 6'}\r\n    ];\r\n\r\n    \r\n    this.bst.auth()\r\n    this.bst.dot = '{node [shape=box];'\r\n    this.bst.dotgen(this.bst.tophash)\r\n    this.bst.dot += '}'\r\n    var DOTstring = this.bst.dot\r\n    var parsedData = vis.parseDOTNetwork(DOTstring);\r\n  \r\n\r\n    console.log(\"DOT\",this.bst.dot)\r\n    this.bst.dot = ''\r\n  \r\n\r\n    var edges = [\r\n        {from: 1, to: 2},\r\n        {from: 1, to: 3},\r\n        {from: 2, to: 4},\r\n        {from: 2, to: 5},\r\n        {from: 5, to: 6}\r\n    ];\r\n  \r\n    var treeData = {\r\n      nodes:  parsedData.nodes,\r\n      edges: parsedData.edges\r\n    };\r\n \r\n    return treeData;\r\n  }\r\n\r\n  drawSvgNetwork() {\r\n    var nodes = null;\r\n     var edges = null;\r\n     var network = null;\r\n\r\n     var DIR = 'img/refresh-cl/';\r\n     var LENGTH_MAIN = 150;\r\n     var LENGTH_SUB = 50;\r\n\r\n    \r\n          nodes = []\r\n           \r\n           edges = []\r\n          \r\n           var data = {\r\n               nodes: nodes,\r\n               edges: edges\r\n           };\r\n           var options = {\r\n            nodes: {\r\n                widthConstraint: 80,\r\n            },        \r\n            layout: {\r\n                hierarchical: {\r\n                    parentCentralization: true,\r\n                    direction: 'DU',      \r\n                    sortMethod: 'directed',  \r\n                    shakeTowards: 'roots'                      \r\n            },\r\n            },                        \r\n        };\r\n           window.vis = require('vis-network/standalone');\r\n           \r\n }\r\n\r\n fileContent: string = '';\r\n\r\n  public cargarArchivo(fileList: FileList): void {\r\n    let file = fileList[0];\r\n    let fileReader: FileReader = new FileReader();\r\n    let self = this;\r\n    fileReader.onloadend = function(x) {\r\n      self.fileContent = fileReader.result.toString();\r\n    }\r\n    fileReader.readAsText(file);\r\n    this.strCarga=self.fileContent;\r\n  }\r\n\r\n  clickCargar(){\r\n    this.strCarga=this.fileContent;\r\n    console.log(this.strCarga);\r\n    let strIntoObj = JSON.parse(this.strCarga);\r\n    console.log(strIntoObj);\r\n    if(strIntoObj.animacion!=undefined&&strIntoObj.animacion!=null){\r\n      this.velocidadAnimacion=strIntoObj.animacion;\r\n    }\r\n    if(strIntoObj.repeticion!=undefined){\r\n      this.opcionRepeticiones=strIntoObj.repeticion;\r\n    }\r\n    if(strIntoObj.posicion!=undefined){\r\n      if(strIntoObj.posicion=='Inicio'||strIntoObj.posicion=='Fin')\r\n        this.opcionOperar=strIntoObj.posicion;\r\n    }\r\n    for (let valorStrNodo of strIntoObj.valores) {\r\n      this.bst.add(valorStrNodo)\r\n    }\r\n    this.visit()\r\n    \r\n  }\r\n\r\n  private setting = {\r\n    element: {\r\n      dynamicDownload: null as HTMLElement\r\n    }\r\n  }\r\n  downloadJson() {\r\n    this.fakeValidateUserData().subscribe((res) => {\r\n      this.dyanmicDownloadByHtmlTag({\r\n        fileName: 'Merkle.json',\r\n        text: res\r\n      });\r\n    });\r\n  }\r\n  fakeValidateUserData() {\r\n    return of(this.listaEnlJSon);\r\n  }\r\n  private dyanmicDownloadByHtmlTag(arg: {\r\n    fileName: string,\r\n    text: string\r\n    }) {\r\n      if (!this.setting.element.dynamicDownload) {\r\n        this.setting.element.dynamicDownload = document.createElement('a');\r\n      }\r\n      const element = this.setting.element.dynamicDownload;\r\n      const fileType = arg.fileName.indexOf('.json') > -1 ? 'text/json' : 'text/plain';\r\n      element.setAttribute('href', `data:${fileType};charset=utf-8,${encodeURIComponent(arg.text)}`);\r\n      element.setAttribute('download', arg.fileName);\r\n      var event = new MouseEvent(\"click\");\r\n      element.dispatchEvent(event);\r\n    }\r\n\r\n}\r\n","import { HashNode } from './hash';\r\nimport { DataNode } from './nodo-merkle';\r\n\r\nexport class Merkle {\r\n    public tophash\r\n    public datablock\r\n    public dot:string\r\n    public index:number\r\n    public string:boolean\r\n\r\n    constructor() {\r\n      this.tophash = null\r\n      this.datablock = []    \r\n      this.dot = ''\r\n      this.index = 0\r\n      this.string = false\r\n    }\r\n  \r\n    add(value) {\r\n      this.datablock.push(new DataNode(value))\r\n    }\r\n  \r\n    createTree(exp) {\r\n      this.tophash = new HashNode(0)\r\n      this._createTree(this.tophash, exp )\r\n    }\r\n  \r\n    _createTree(tmp, exp) {\r\n      if (exp > 0) {\r\n        tmp.left = new HashNode(0)\r\n        tmp.right = new HashNode(0)\r\n        this._createTree(tmp.left, exp - 1)\r\n        this._createTree(tmp.right, exp - 1)\r\n      }\r\n    }\r\n  \r\n    genHash(tmp, n) { \r\n      if (tmp != null) {\r\n        this.genHash(tmp.left, n)\r\n        this.genHash(tmp.right, n)\r\n        \r\n        if (tmp.left == null && tmp.right == null) {\r\n          tmp.left = this.datablock[n-this.index--]\r\n          var array = new Uint32Array(1);\r\n          window.crypto.getRandomValues(array)\r\n\r\n          tmp.hash = array[0]\r\n        } else {\r\n          tmp.hash = (parseInt(tmp.left.hash, 16)+parseInt(tmp.right.hash, 16)).toString(16)\r\n        }      \r\n      }\r\n    }\r\n  \r\n    preorder(tmp) {\r\n      if (tmp != null) {\r\n        if (tmp instanceof DataNode) {\r\n          \r\n          console.log(tmp.value)\r\n        } else {\r\n          \r\n          console.log(tmp.value)\r\n        }\r\n        this.preorder(tmp.left)\r\n        this.preorder(tmp.right)\r\n      }\r\n    }\r\n  \r\n    auth() {\r\n      var exp = 1\r\n      while (Math.pow(2, exp) < this.datablock.length) {\r\n        exp += 1\r\n      }\r\n      for (var i = this.datablock.length; i < Math.pow(2, exp); i++) {\r\n        this.datablock.push(new DataNode(i*100))\r\n      }\r\n      this.index = Math.pow(2, exp)\r\n      this.createTree(exp)\r\n      this.genHash(this.tophash, Math.pow(2, exp))\r\n      this.preorder(this.tophash)    \r\n    }\r\n  \r\n    show() {\r\n      this.datablock.forEach(element => document.getElementById(\"log\").innerHTML+=element.value+' ');\r\n    }\r\n  \r\n    dotgen(tmp) {\r\n      if (tmp != null) {\r\n        if (tmp.left != null){\r\n          if (tmp.left instanceof DataNode) {\r\n            this.dot += '\"'+tmp.left.value+'\" [color=gray] -> \"0x'+tmp.hash+'\";'\r\n          }\r\n        }\r\n        if (tmp.left instanceof HashNode) {\r\n          if (tmp.left != null) this.dot += '\"0x'+tmp.left.hash+'\" -> \"0x'+tmp.hash+'\";'\r\n          if (tmp.right != null) this.dot += '\"0x'+tmp.right.hash+'\" -> \"0x'+tmp.hash+'\";'\r\n        }\r\n        this.dotgen(tmp.left)\r\n        this.dotgen(tmp.right)\r\n      }\r\n    }\r\n  }\r\n","export default \"<div >\\r\\n    <h4>Merkle</h4>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-2 text-xs-center\\\">\\r\\n            <div class=\\\"card mb-3\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <input class=\\\"form-control\\\" placeholder=\\\"Ingresar nuevo valor\\\" [(ngModel)]=\\\"x\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-2 text-xs-center\\\">\\r\\n            <div class=\\\"card mb-3 text-center my-auto\\\">\\r\\n                <div class=\\\"card-body align-items-center\\\" >\\r\\n                    <button class=\\\"btn btn-secondary mr-3\\\" type=\\\"button\\\" (click)=\\\"Insertar()\\\">Agregar</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>      \\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xl-6 text-xs-center\\\">\\r\\n            <fieldset class=\\\"form-group\\\">\\r\\n               <input type=\\\"file\\\" (change)=\\\"cargarArchivo($event.target.files)\\\">\\r\\n                <button class=\\\"btn btn-secondary\\\" type=\\\"submit\\\" (click)=\\\"clickCargar()\\\">Cargar a lista dinamica</button>\\r\\n            </fieldset>\\r\\n        </div>\\r\\n    </div>   \\r\\n    <br>\\r\\n    <div id=\\\"mynetwork\\\" #siteConfigNetwork></div>\\r\\n    <div class=\\\"col-xl-6 text-xs-center\\\">\\r\\n        <fieldset class=\\\"form-group\\\">\\r\\n            <label>JSON salida</label>\\r\\n            <textarea class=\\\"form-control\\\" rows=\\\"2\\\">{{listaEnlJSon}}</textarea>\\r\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"submit\\\" (click)=\\\"downloadJson()\\\">Guardar</button>\\r\\n        </fieldset>\\r\\n    </div>\\r\\n</div>\\r\\n<style type=\\\"text/css\\\">\\r\\n    #mynetwork {\\r\\n        width: 1200px;\\r\\n        height: 500px;\\r\\n        border: 1px solid lightgray;\\r\\n    }\\r\\n</style>\";","export class DataNode {\r\n\tpublic value:any\r\n    constructor(value) {\r\n\t\tthis.value \t= value\r\n\t}\r\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MerkleComponent } from './merkle.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: MerkleComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class MerkleRoutingModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtZXJrbGUuY29tcG9uZW50LmNzcyJ9 */\";","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { PageHeaderModule } from '../../../shared';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MerkleRoutingModule } from './merkle-routing.module';\r\nimport { MerkleComponent } from './merkle.component';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n    imports: [MatRadioModule,CommonModule, MerkleRoutingModule, PageHeaderModule,FormsModule],\r\n    declarations: [MerkleComponent]\r\n})\r\nexport class MerkleModule {}\r\n","export class HashNode {\r\n    public hash\r\n    public left\r\n    public right\r\n    constructor(hash) {\r\n      this.hash  = hash\r\n      this.left  = null\r\n      this.right = null\r\n    }\r\n  }"]}